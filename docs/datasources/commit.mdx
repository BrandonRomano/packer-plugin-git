---
description: >
  The git commit data source is used to include information about
  a git commit in your packer template.
page_title: Commit - Data Sources
nav_title: Commit
---

# Commit

Type: `git-commit`

The commit data source is used to fetch information about a specific commit. 
It needs to be run inside an existing git repo.


### Required

There are no required configuration fields.


### Optional

- `directory` (string) - The path to a directory inside your git repo. The plugin will
search for a git repo, starting in this directory and walking up through
parent directories. Defaults to '.' (the directory packer was executed in).


### Output

- `commit_sha` (string) - The SHA1 checksum or "hash" value of the current HEAD commit.


### Example Usage

This example shows how a truncated commit sha can be appended
to an image name, with the full sha in the image description.

```hcl
data "git-commit" "cwd-head" { }

locals {
  commit = data.git-commit.cwd-head.commit_sha
  truncated_sha = substr(data.git-commit.cwd-head.commit_sha, 0, 8)
}

source "googlecompute" "example" {
  image_name = "image-${local.truncated_sha}"
  image_description = "This image was built from commit ${local.commit}"
}

build {
  sources = ["source.googlecompute.example"]
}
```
